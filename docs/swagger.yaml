basePath: /v1
definitions:
  ErrorResponse:
    description: Error response object
    properties:
      error:
        example: message
        type: string
    type: object
  ListPairs:
    description: Request list of trading pairs
    properties:
      pairs:
        description: list of trade pools
        items:
          $ref: '#/definitions/entities.TradePair'
        type: array
    type: object
  ListPools:
    description: Request list of trading pools
    properties:
      pools:
        description: list of trade pools
        items:
          $ref: '#/definitions/entities.TradePool'
        type: array
    type: object
  RequestPairs:
    description: Request for searching trade pair
    properties:
      protocol:
        allOf:
        - $ref: '#/definitions/entities.SwapProtocol'
        description: trade protocol
      tokenPair:
        allOf:
        - $ref: '#/definitions/entities.TokenPair'
        description: pair of tokens
    type: object
  TokenList:
    description: Request list of tokens
    properties:
      tokens:
        description: list of tokens
        items:
          $ref: '#/definitions/entities.Token'
        type: array
    type: object
  entities.SwapProtocol:
    properties:
      factoryAddress:
        type: string
      protocolName:
        type: string
      swapRouter:
        type: string
    type: object
  entities.Token:
    properties:
      address:
        type: string
      name:
        type: string
      wei:
        type: integer
    type: object
  entities.TokenPair:
    properties:
      token0:
        $ref: '#/definitions/entities.Token'
      token1:
        $ref: '#/definitions/entities.Token'
    type: object
  entities.TradePair:
    properties:
      pool0:
        $ref: '#/definitions/entities.TradePool'
      pool1:
        $ref: '#/definitions/entities.TradePool'
    type: object
  entities.TradePool:
    properties:
      address:
        type: string
      pair:
        $ref: '#/definitions/entities.TokenPair'
      protocol:
        $ref: '#/definitions/entities.SwapProtocol'
    type: object
info:
  contact: {}
  description: interacting with smart contract, collecting tokens, perform trade
  license:
    name: MIT
  title: Flash Loan Arbitrage bot
  version: "1.0"
paths:
  /contract/pairs:
    get:
      consumes:
      - application/json
      description: Get full list of pairs
      operationId: listPairs
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListPairs'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: List Pairs
      tags:
      - Contract
    post:
      consumes:
      - application/json
      description: Add list of pairs
      operationId: addPairs
      parameters:
      - description: Add pairs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ListPairs'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/ListPairs'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Add Pairs
      tags:
      - Contract
  /contract/pairs/find:
    post:
      consumes:
      - application/json
      description: Get list of pairs by protocol, tokens
      operationId: getPairs
      parameters:
      - description: Get pairs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/RequestPairs'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListPairs'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Get Pairs
      tags:
      - Contract
  /contract/tokens/base:
    get:
      consumes:
      - application/json
      description: Request base token list
      operationId: getTokens
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/TokenList'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Get Tokens
      tags:
      - Contract
  /parser/pools:
    get:
      consumes:
      - application/json
      description: Save pools from parser to storage
      operationId: ParseWrite
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListPools'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Store parsed pools
      tags:
      - Parse
  /provider/tokens:
    get:
      consumes:
      - application/json
      description: Request token list
      operationId: listTokens
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/TokenList'
      summary: List Tokens
      tags:
      - Provider
    post:
      consumes:
      - application/json
      description: Add list of tokens
      operationId: addTokens
      parameters:
      - description: Add tokens
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/TokenList'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/TokenList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Add Tokens
      tags:
      - Provider
  /storage/pools:
    get:
      consumes:
      - application/json
      description: Get list of all pools from storage
      operationId: getPoolList
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListPools'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/ErrorResponse'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Get Pools
      tags:
      - Storage
    post:
      consumes:
      - application/json
      description: Add list of pools to storage
      operationId: addPools
      parameters:
      - description: Add pools
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ListPools'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/ListPools'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Add Pools
      tags:
      - Storage
  /storage/tokens:
    get:
      consumes:
      - application/json
      description: Get list of all tokens from storage
      operationId: getTokensList
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/TokenList'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/ErrorResponse'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Get Tokens
      tags:
      - Storage
    post:
      consumes:
      - application/json
      description: Add list of tokens to storage
      operationId: addTokens
      parameters:
      - description: Add pools
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/TokenList'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/TokenList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorResponse'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Add Tokens
      tags:
      - Storage
  /trade/pairs:
    get:
      consumes:
      - application/json
      description: Load profitable pairs from storage
      operationId: loadPairs
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ListPairs'
        "507":
          description: Insufficient Storage
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Load Pairs
      tags:
      - Trade
  /trade/tokens:
    get:
      consumes:
      - application/json
      description: Load unknown tokens from storage
      operationId: loadTokens
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/TokenList'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/ErrorResponse'
      summary: Load Tokens
      tags:
      - Trade
swagger: "2.0"
